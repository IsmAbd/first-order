<html>

<head>
    <meta charset="utf-8" />
    <title>generic database</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

    <script lang="js">
        /*function getAll() {
            $.get("http://127.0.01.:8080/persons/all", {},
                function(result) {
                    alert(JSON.stringify(result));
                });
        }*/

        function getOne() {
            let key = document.getElementById("key").value;
            $.get('http://127.0.0.1:8080/order/search', {
                    "id": key
                },
                function(result) {
                    let table = document.getElementById("results");
                    table.innerHTML = result;

                });
        }

         function getAll() {
           $.get('http://127.0.0.1:8080/order/all',
                 {},
               function(result) {
                   let table = document.getElementById("results");
                   table.innerHTML = result;
               });
        }

        function save(id){
          let it = document.getElementById("key").value;
          id=it;
            $.post('http://127.0.0.1:8080/order/save',
                   {'id':id /*,
                   'name':document.getElementById(id+"_name").value,
                   'address':document.getElementById(id+"_address").value,
                    'tel':document.getElementById(id+"_tel").value*/
                   }, function(result){alert("Saving " + id + ": " + result)});
        }

    </script>

</head>

<body>
    <h1>database for persons</h1>

    <table>
        <tr>
            <td>ID :</td>
            <td><input type="text" id="key" size="20"></td>

        </tr>
        <tr>
            <td><input type="button" value="all" onclick="getAll()"></td>
            <td><input type="button" value="search" onclick="getOne()"></td>
        </tr>
        <tr>
          <td><input type="button" value="save" onclick="save()"></td>
        </tr>
    </table>
    <hr>
    <table id="results" cellpadding="10px" border="2">
        <tr id="results_header">
            <th>ID</th>
            <th>name</th>
            <th>address</th>
            <th>telephone</th>
        </tr>

    </table>
</body>

</html>
